data["height"]
col1 <- data["height"]
View(col1)
rm(c("col1", "col2", "col3"))
rm(c(col1, col2, col3))
rm(col1)
rm(col2)
rm(col3)
variable <- data[nombre_de_variables[1]]
View(variable)
variable <- data[nombre_de_variables[2]]
View(variable)
variable <- data[nombre_de_variables[1]]
View(variable)
variable <- data[nombre_de_variables[2]]
View(variable)
variable <- data[nombre_de_variables[3]]
for (i in 1:length(data)) {
variable <- data[nombre_de_variables[i]]
}
nombre_de_variables <- colnames(data)[-4]
for (i in 1:length(data)) {
variable <- data[nombre_de_variables[i]]
}
for (i in 1:length(nombre_de_variables)) {
variable <- data[nombre_de_variables[i]]
}
View(variable)
for (i in 1:length(nombre_de_variables)) {
variable <- data[nombre_de_variables[i]]
agregar <- left_join(variable, agregar)
}
?left_join
??left_join
library(dyplr)
library(dplyr)
for (i in 1:length(nombre_de_variables)) {
variable <- data[nombre_de_variables[i]]
agregar <- left_join(variable, agregar)
}
for (i in 1:length(nombre_de_variables)) {
variable <- data[nombre_de_variables[i]]
agregar <- left_join(variable, agregar, copy = T)
}
for (i in 1:length(nombre_de_variables)) {
variable <- data[nombre_de_variables[i]]
agregar <- left_join(variable, agregar, by = character())
}
?if
sdf
help(if)
M0 <- lm(earnk ~ age, data = data)
summary(M0)
M0 <- lm(earnk ~ , data = data)
M0 <- lm(earnk ~ 1, data = data)
summary(M0)
M1 <- lm(earnk ~ nombre_de_variables[1], data = data)
variable <- data[nombre_de_variables[1]]
View(variable)
M1 <- lm(earnk ~ variable[1], data = data)
variable[1]
variable
M1 <- lm(earnk ~ variable, data = data)
class(variable)
variables2 <- data[1]
M1 <- lm(earnk ~ variable2, data = data)
View(variables2)
M1 <- lm(earnk ~ data[1], data = data)
juan <- data[1]
M1 <- lm(earnk ~ juan, data = data)
class(juan)
variable <- data[nombre_de_variables[1]]
View(variable)
rm(variables2)
M1 <- lm(earnk ~ variable, data = data)
class(variable)
M1 <- lm(earnk ~ data[1], data = data)
M1 <- lm(earnk ~ as.formula(variable), data = data)
variable <- data[,1]
variable <- data[,1]
model <- lm(earnk ~ variable, data = data)
summary(model)
M1 <- lm(earnk ~ as.integer(variable), data = data)
summary(M1)
variable <- data[1]
variable <- data[,1]
variable <- data[nombre_de_variables[,1]]
M1 <- lm(earnk ~ variable, data = data)
summary(M1)
nombre_de_variables[,1]
nombre_de_variables[1]
nombre_de_variables[,1]
nombre_de_variables[1,]
variable <- data[nombre_de_variables[1]]
M1 <- lm(earnk ~ variable, data = data)
M1 <- lm(earnk ~ as.integer(variable, data = data))
M1 <- lm(earnk ~ as.integer(variable, data = data))
M1 <- lm(earnk ~ as.integer(variable, data = data)
M1 <- lm(earnk ~ as.integer(variable, data = data))
M1 <- lm(earnk ~ as.integer(variable), data = data)
M1 <- lm(earnk ~ variable, data = data)
length(nombre_de_variables)
#-------------------------------------------------------------------------
library(tidyverse)
library(fs)
library(dplyr)
library(tidyr)
library(lubridate)
setwd("/Users/tomastemudio/Desktop/Di Tella/Tercer Año/Segundo Semestre/LAB/R/DOMICILIARIO_R/Data_1900_1970")
files <- list.files(pattern = "US")
dates <- data.frame(date = seq(as.Date("1900/1/1"), as.Date("1970/12/31"), "days"))
id <- NULL
for (i in 1:length(files)){
data <- read.csv(files[i])
id <- c(id, unique(data$ID))
data <- data %>% select('ID',"year",'month', starts_with("Val"))
colnames(data) <- c("ID","year", "month", 1:31)
data <- pivot_longer(data, cols = 4:34, names_to = "day", values_to = "station")
data <- data %>% mutate(date = make_date(year = data$year, month = data$month, day = data$day))
data <- data %>% select(-c(ID, year, month, day)) %>% select(date, station)
dates <- left_join(dates, data, by = "date")
}
flags <- data.frame(date = seq(as.Date("1900/1/1"), as.Date("1970/12/31"), "days"))
for (i in 1:length(files)) {
data_flags <- read.csv(files[i])
data_flags <- data_flags %>% select("year", "month", contains("xxQ"))
colnames(data_flags) <- c("year", "month", 1:31)
data_flags <- pivot_longer(data_flags, cols = 3:33, names_to = "day", values_to = "station")
data_flags <- data_flags %>% mutate(date = make_date(year = data_flags$year, month = data_flags$month, day = data_flags$day))
data_flags <- data_flags %>% select(-c(year, month, day)) %>% select(date, station)
flags <- left_join(flags, data_flags, by = "date")
}
juan <- pivot_longer(dates, 2:750, names_to = "stations", values_to = "rain")
View(juan)
View(juan)
?pivot_longer
dates$colnames
?left_join
tomas <- left_join(flags, dates, by = c("date" = "date", 2:750 = 2:750))
tomas <- left_join(flags, dates, by = c("date" = "date"))
View(tomas)
tomas <- left_join(flags, dates, by = c("date" = "date"), copy = T)
View(tomas)
tomas <- left_join(flags, dates, by = c("date" = "date"), keep = T)
View(tomas)
rm(juan)
rm(tomas)
juan <- pivot_longer(dates, c(date, 2:750), names_to = "stations", values_to = "rain")
leonel <- merge(dates, flags, by = "dates")
leonel <- merge(dates, flags, by = c("dates", "dates")
sdes
leonel <- merge(dates, flags, by = c("dates", "dates"))
tomas <- left_join(flags, dates, by = c("date", 2:750))
dates[2:750]
prueba <- dates[1,3]
prueba <- dates[2,3]
prueba <- dates[1:3]
View(prueba)
rm(prueba)
tomas <- left_join(flags, dates, by = c("date", dates[2:750]))
prueba <- colnames(dates)
prueba <- colnames(dates)[-1]
tomas <- left_join(flags, dates, by = c("date", prueba))
class(date$station.x.x.x)
class(dates$station.x.x.x)
class(dates$station.x)
class(flags$station.x)
class(flags$station.x.x.x)
class(flags$station.y.y)
tomas <- left_join(flags, dates, by = "date")
View(tomas)
tomas <- left_join(flags, dates, by = "date", copy = F)
View(tomas)
tomas <- left_join(flags, dates, by = "date", na_matches = "never")
View(tomas)
tomas <- left_join(flags, dates, by = character())
View(tomas)
tomas <- left_join(dates, flags, by = "dates")
tomas <- left_join(dates, flags, by = "date")
View(tomas)
rm(flags)
rm(data_flags)
flags <- data.frame(date = seq(as.Date("1900/1/1"), as.Date("1970/12/31"), "days"))
for (i in 1:length(files)) {
data_flags <- read.csv(files[i])
data_flags <- data_flags %>% select("year", "month", contains("xxQ"))
colnames(data_flags) <- c("year", "month", 1:31)
data_flags <- pivot_longer(data_flags, cols = 3:33, names_to = "day", values_to = "flags")
data_flags <- data_flags %>% mutate(date = make_date(year = data_flags$year, month = data_flags$month, day = data_flags$day))
data_flags <- data_flags %>% select(-c(year, month, day)) %>% select(date, flags)
flags <- left_join(flags, data_flags, by = "date")
}
View(flags)
rm(tomsd)
rm(tomas)
tomas <- left_join(dates, flags, by = "date")
View(tomas)
tomas[2]
prueba <- tomas[752]
View(prueba)
prueba <- tomas["751"]
prueba <- tomas[751]
prueba <- left_join(dates, flags, by = "date")
M0 <- lm(earnk ~ 1, data = data)
library(dplyr)
data <- read.csv("/Users/tomastemudio/Desktop/Di Tella/Tercer Año/Segundo Semestre/LAB/R/DOMICILIARIO_R/earnings.csv")
M0 <- lm(earnk ~ 1, data = data)
summary(M0)
summary(M0)
data[,1]
View(data)
residuos <- numeric()
for (i in 1:length(data)) {
variable <- data[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(model))
}
?deviance
for (i in 1:length(data)) {
variable <- data[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(M1))
}
nombre_de_variables <- colnames(data)[-4]
for (i in 1:length(nombre_de_variables)) {
variable <- data[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(M1))
}
rm(residuos)
residuos <- numeric()
rm(variable)
length(nombre_de_variables)
for (i in 1:length(nombre_de_variables)) {
#variable <- data[,i]
M1 <- lm(earnk ~ data[,i], data = data)
residuos <- c(residuos, deviance(M1))
}
data[1:140]
data(1:40)
data[1,14]
data(1:14)
data[,14]
data[,1:14]
juan <- data[,1:14]
View(juan)
juan <- data[,1:14][-4]
data_wo_earnk <- data[,1:14][-4]
rm(juan)
View(data_wo_earnk)
for (i in 1:length(data)) {
#variable <- data[,i]
M1 <- lm(earnk ~ data_wo_earnk[,i], data = data)
residuos <- c(residuos, deviance(M1))
}
for (i in 1:length(data)) {
#variable <- data[,i]
M1 <- lm(earnk ~ data_wo_earnk[,i], data = data_wo_earnk)
residuos <- c(residuos, deviance(M1))
}
for (i in 1:length(data)) {
#variable <- data[,i]
M1 <- lm(earnk ~ data_wo_earnk[,i], data = data)
residuos <- c(residuos, deviance(M1))
}
for (i in 1:length(data)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(M1))
}
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(M1))
}
residuos <- numeric()
rm(variabel)
rm(variable)
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(M1))
}
which.min(residuos)
residuos2 <- resid(M1)
residuals(M1)
deviance(M1)
View(tomas)
rm(tomas)
tomas <- lm(earnk ~ height, data = data)
leonel <- lm(earnk ~ weight, data = data)
resid(tomas)
deviance(tomas)
summary(tomas)
resid <- resid(tomas)
deviance(leonel)
resid(leonel)
resid(M0)
summary(M0)
resid(M0)
resid <- resid(M0\)
resid <- resid(M0)
summary(M0)
rm(tomas)
rm(resid)
rm(tomas)
rm(residuos2)
residuos <- numeric()
rm(variable)
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(M1))
resid_min <- which.min(M1)
}
residuos <- numeric()
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos <- c(residuos, deviance(M1))
resid_min <- which.min(residuos)
}
residuos_1 <- numeric()
rm(residuos)
rm(variable)
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos, deviance(M1))
resid_min <- which.min(residuos)
}
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
resid_min <- which.min(residuos)
}
residuos_1 <- numeric()
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
resid_min <- which.min(residuos)
}
rm(residuos_1)
rm(variable)
residuos_1 <- numeric()
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
resid_min <- which.min(residuos)
}
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
resid_min <- which.min(residuos_1)
}
residuos_1 <- numeric()
data_wo_earnk <- data[,1:14][-4]
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
resid_min <- which.min(residuos_1)
}
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
resid_min <- which.min(residuos_1)
}
residuos_1 <- numeric()
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
resid_min <- which.min(residuos_1)
}
resid_min <- data.frame(which.min(residuos_1) = min(residuos_1))
resid_min <- data.frame(tomas = min(residuos_1))
View(resid_min)
position_residmin1 <- which.min(residuos_1)
resid_min <- data.frame( position_residmin1= min(residuos_1))
View(resid_min)
data_wo_earnk[,7]
data_wo_earnk[7]
data_wo_earnk[7]
data_wo_earnk[,7]
resid_min <- data.frame( data_wo_earnk[,7]= min(residuos_1))
resid_min <- data.frame( data_wo_earnk[,7]= min(residuos_1))
colnames(data_wo_earnk)[7]
resid_min <- data.frame(colnames(data_wo_earnk)[7] = min(residuos_1))
position_residmin1 <- colnames(data_wo_earnk)[which.min(residuos_1)]
resid_min <- data.frame(position_residmin1 = min(residuos_1))
View(resid_min)
position_residmin1 <- which.min(residuos_1)
resid_min <- data.frame(position_residmin1 = min(residuos_1))
resid_min <- data.frame(position_residmin1 = min(residuos_1),position_residmin1)
resid_min <- data.frame(position_residmin1 = min(residuos_1):position_residmin1)
resid_min <- data.frame(position_residmin1 = min(residuos_1))
data_wo_earnk2 <- data[,1:14][-4][-8]
View(data_wo_earnk2)
data_wo_earnk2 <- data[,1:14][-4][-7]
data_wo_earnk2 <- data[,1:14]
data_wo_earnk2 <- data[,1:14][-c(4,7)]
data_wo_earnk2 <- data[,1:14][-c(4,8)]
residuos_2 <- numeric()
data_wo_earnk2 <- data[,1:14][-c(4,8)]
for (i in 1:length(data_wo_earnk2)) {
variable_2 <- data_wo_earnk2[,i]
M2 <- lm(earnk ~ variable_2, data = data)
residuos_2 <- c(residuos_2, deviance(M2))
position_residmin_2 <- which.min(residuos_2)
}
position_residmin_2
residuos_2 <- numeric()
data_wo_earnk2 <- data[,1:14][-c(4,8)]
for (i in 1:length(data_wo_earnk2)) {
variable_2 <- data_wo_earnk2[,i]
M2 <- lm(earnk ~ data[,8] + variable_2, data = data)
residuos_2 <- c(residuos_2, deviance(M2))
position_residmin_2 <- which.min(residuos_2)
}
data[,8]
summary(M0)
summary(M1)
summary(M2)
M1 <- lm(earnk ~ variable, data = data_wo_earnk)
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- numeric()
residuos_1 <- c(residuos_1, reid(M1))
residuos_1 <- c(residuos_1, resid(M1))
position_residmin1 <- which.min(residuos_1)
residuos_1 <- numeric()
residuos_1 <- c(residuos_1, deviance(M1))
position_residmin1 <- which.min(residuos_1)
residuos_1 <- numeric()
data_wo_earnk <- data[,1:14][-4]
for (i in 1:length(data_wo_earnk)) {
variable <- data_wo_earnk[,i]
M1 <- lm(earnk ~ variable, data = data)
residuos_1 <- c(residuos_1, deviance(M1))
position_residmin1 <- which.min(residuos_1)
#position_residmin1 <- colnames(data_wo_earnk)[which.min(residuos_1)]
resid_min <- data.frame(position_residmin1 = min(residuos_1))
}
data_wo_earnk2 <- data_wo_earnk[-7]
View(data_wo_earnk2)
data_wo_earnk <- data[-4]
View(data_wo_earnk)
residuos_2 <- numeric()
for (i in 1:length(data_wo_earnk2)) {
variable_2 <- data_wo_earnk2[,i]
M2 <- lm(earnk ~ data[,8] + variable_2, data = data_wo_earnk)
residuos_2 <- c(residuos_2, deviance(M2))
position_residmin_2 <- which.min(residuos_2)
}
position_residmin_2 <- which.min(residuos_2) + 2
residuos_2 <- numeric()
for (i in 1:length(data_wo_earnk2)) {
variable_2 <- data_wo_earnk2[,i]
M2 <- lm(earnk ~ data[,8] + variable_2, data = data_wo_earnk)
residuos_2 <- c(residuos_2, deviance(M2))
position_residmin_2 <- which.min(residuos_2) + 2
}
residuos_2 <- numeric()
for (i in 1:length(data_wo_earnk2)) {
variable_2 <- data_wo_earnk2[,i]
M2 <- lm(earnk ~ data[,8] + variable_2, data = data)
residuos_2 <- c(residuos_2, deviance(M2))
position_residmin_2 <- which.min(residuos_2) + 2
}
colnames(data_wo_earnk2)[5]
View(data_wo_earnk2)
View(data)
residuos_3 <- numeric()
data_wo_earnk3 <- data_wo_earnk2[-5]
for (i in 1:length(data_wo_earnk3)) {
variable_3 <- data_wo_earnk3[,i]
M3 <- lm(earnk ~ data[,8] + data[,6] + variable_3, data = data)
residuos_3 <- c(residuos_3, deviance(M3))
position_residmin_3 <- which.min(residuos_3) + 3
}
resid_min <- data.frame(position_residmin_2 = min(residuos_2))
View(resid_min)
#position_residmin1 <- colnames(data_wo_earnk)[which.min(residuos_1)]
resid_min <- data.frame(position_residmin1 = min(residuos_1))
resid_min2 <- data.frame(position_residmin_2 = min(residuos_2))
resid_min <- rbind(resid_min2)
View(resid_min)
rm(resid_min2)
rm(variable)
rm(variable_2)
rm(variable_3)
rm(residuos_1)
rm(residuos_2)
rm(residuos_3)
rm(position_residmin1)
rm(position_residmin_2)
rm(position_residmin_3)
rm(nombre_de_variables)
rm(resid_min)
rm(M0)
rm(M1)
rm(M2)
rm(data_wo_earnk)
rm(data_wo_earnk2)
rm(data_wo_earnk3)
rm(M3)
rm(data)
